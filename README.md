# 🏋️ Fitness Tracker - 包括的フィットネス管理アプリ

React Native（モバイル）とNext.js（ウェブ）を使用した、フル機能のフィットネストラッカーアプリケーション。

## ✨ 機能一覧

### 🔐 認証機能
- ユーザー登録・ログイン
- プロフィール管理
- アバター画像アップロード

### 💪 ワークアウト管理
- ワークアウト記録・編集・削除
- エクササイズ選択（24種類）
- セット・レップ・重量記録
- ワークアウト履歴と統計

### 📋 テンプレート機能
- ワークアウトテンプレート作成
- 公開・プライベートテンプレート
- テンプレートからワークアウト生成
- カテゴリ別フィルタリング

### 🎯 目標設定
- 目標作成・進捗追跡
- ベンチプレス、体重、頻度など
- 達成度の可視化

### 📊 進捗追跡・アナリティクス
- 体重・体脂肪率・筋肉量記録
- 包括的な体測定トラッキング
- 1RM（最大挙上重量）計算・追跡
- 詳細な進捗チャート

### 📈 ダッシュボード
- 週間ワークアウト進捗
- 筋肉グループ別統計
- 最近のパーソナルレコード
- 体重トレンド表示
- クイックアクション

## 技術スタック

- **モノレポ**: Turborepo
- **モバイル**: React Native (Expo)
- **ウェブ**: Next.js
- **データベース**: Supabase
- **UI**: 共通UIコンポーネントライブラリ
- **型定義**: TypeScript

## プロジェクト構成

```
fitness-tracker/
├── apps/
│   ├── mobile/     # React Native アプリ
│   └── web/        # Next.js ウェブアプリ
├── packages/
│   ├── ui/         # 共通UIコンポーネント
│   ├── types/      # 共通型定義
│   └── supabase/   # Supabase クライアントと関数
└── supabase/
    └── schema.sql  # データベーススキーマ
```

## 🚀 クイックスタート

### 1. 依存関係のインストール

```bash
pnpm install
```

### 2. Supabaseプロジェクトのセットアップ

1. [Supabase](https://supabase.com)でプロジェクトを作成
2. `avatar` という名前のStorageバケットを作成（プライベート設定）

### 3. 環境変数の設定

```bash
cp .env.local.example .env.local
```

`.env.local` にSupabaseの認証情報を設定してください。

### 4. データベースセットアップ（自動）

```bash
# 1つのコマンドですべてのマイグレーションとシードを実行
pnpm setup:db
```

### 5. アプリケーションの起動

```bash
# Webアプリ起動
pnpm dev:web

# モバイルアプリ起動
pnpm dev:mobile
```

### 6. デモアカウントでログイン

- **Email:** demo@fitness-tracker.com
- **Password:** demo123456

## 📖 詳細なセットアップ

詳細なセットアップ手順については [SETUP.md](./SETUP.md) を参照してください。

## 🛠️ 開発コマンド

### アプリケーション実行

```bash
# すべてのアプリ開発サーバー起動
pnpm dev

# Webアプリのみ
pnpm dev:web

# モバイルアプリのみ
pnpm dev:mobile
```

### ビルドとメンテナンス

```bash
# ビルド
pnpm build

# 型チェック
pnpm typecheck

# リント
pnpm lint

# クリーン
pnpm clean
```

### データベース管理

```bash
# データベースセットアップ（マイグレーション＋シード）
pnpm setup:db

# マイグレーションのみ実行
pnpm db:push

# データベースリセット（シード含む）
pnpm db:reset

# シードデータのみ実行
pnpm db:seed
```

### モバイルアプリの実行

```bash
cd apps/mobile

# iOS Simulator
pnpm ios

# Android Emulator
pnpm android

# 開発サーバーのみ
pnpm start
```

## 🎯 デモデータ

シードデータに含まれる内容：

- **デモユーザー**: demo@fitness-tracker.com
- **ワークアウト履歴**: 7回分（プッシュ、プル、レッグなど）
- **エクササイズ**: 24種類（胸、背中、肩、腕、脚、コア、有酸素）
- **目標**: 4個の進行中目標
- **体測定記録**: 5回分の進捗データ
- **テンプレート**: 5個の公開テンプレート + 1個のカスタム

## 🔧 主要機能の技術詳細

### アーキテクチャ
- **モノレポ**: Turborepo + pnpm workspaces
- **型安全性**: 全体で共有されるTypeScript型定義
- **コード共有**: packages配下で共通ロジックを管理

### セキュリティ
- **Row Level Security (RLS)**: すべてのテーブルで有効
- **認証**: Supabase Auth
- **ファイルアクセス**: ユーザーごとに制限されたStorageアクセス

### データベース設計
- **リレーショナル設計**: 正規化された効率的なスキーマ
- **リアルタイム**: Supabase Realtimeでライブ同期
- **インデックス**: パフォーマンス最適化

## 🚧 将来の拡張予定

- [ ] オフラインサポート（PWA）
- [ ] ソーシャル機能（フレンド、チャレンジ）
- [ ] 栄養記録とカロリー計算
- [ ] AIによるワークアウト推奨
- [ ] ウェアラブルデバイス連携
- [ ] 多言語対応
- [ ] プッシュ通知

## ライセンス

MIT